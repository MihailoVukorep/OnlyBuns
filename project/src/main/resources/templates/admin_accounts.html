<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">

<head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/x-icon" href="/img/favicon.png">
    <link rel="stylesheet" href="/css/main.css">

    <title>OnlyBuns - Accounts</title>
    <link rel="stylesheet" href="/css/admin_accounts.css">

    <script defer type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div th:replace="~{fragments/navbar :: navbar}"></div>

    <h1>ðŸ‘¥ Accounts ðŸ‘¥</h1>

    <form class="searchform" action="/admin/accounts" method="get">
        <table>
            <tr>
                <th><label for="firstName">First Name:</label></th>
                <td><input type="text" id="firstName" name="firstName" placeholder="Enter first name"></td>
            </tr>
            <tr>
                <th><label for="lastName">Last Name:</label></th>
                <td><input type="text" id="lastName" name="lastName" placeholder="Enter last name"></td>
            </tr>
            <tr>
                <th><label for="userName">Username:</label></th>
                <td><input type="text" id="userName" name="userName" placeholder="Enter username"></td>
            </tr>
            <tr>
                <th><label for="email">Email:</label></th>
                <td><input type="email" id="email" name="email" placeholder="Enter email address"></td>
            </tr>
            <tr>
                <th><label for="address">Address:</label></th>
                <td><input type="text" id="address" name="address" placeholder="Enter address"></td>
            </tr>
            <tr>
                <th><label for="minPostCount">Minimum Post Count:</label></th>
                <td><input type="number" id="minPostCount" name="minPostCount" placeholder="0" min="0"></td>
            </tr>
            <tr>
                <th><label for="maxPostCount">Maximum Post Count:</label></th>
                <td><input type="number" id="maxPostCount" name="maxPostCount" placeholder="1000" min="0"></td>
            </tr>
            <tr>
                <td colspan="2" style="text-align: center;">
                    <button type="submit">Search</button>
                </td>
            </tr>
        </table>
    </form>

    <div id="sort_controls">
        <label for="sortOptions">Sort by:</label>
        <form action="/admin/accounts" method="GET" id="sortForm">
            <select id="sortOptions" name="sort" th:value="${currentSort}" onchange="this.form.submit()">
                <option value="follow_count,asc" th:selected="${currentSort == 'follow_count,asc'}">Followers Ascending</option>
                <option value="follow_count,desc" th:selected="${currentSort == 'follow_count,desc'}">Followers Descending</option>
                <option value="email,asc" th:selected="${currentSort == 'email,asc'}">Email Ascending</option>
                <option value="email,desc" th:selected="${currentSort == 'email,desc'}">Email Descending</option>
            </select>
        </form>
    </div>

    <div id="accounts">
        <div th:each="account : ${accounts}" class="account_link">
            <a th:href="'/accounts/' + ${account.id}">
                <div class="account">
                    <div class="account_img_cont">
                        <img th:src="${account.avatar}" alt="Account Avatar" class="account_img">
                    </div>
                    
                    <div class="account_info">
                        <div class="account_info_head">
                            <div class="account_info_head_names">
                                <span th:text="${account.roles[0].name}" class="account_info_body_roles"></span>
    
                                <span th:text="${account.firstName}" class="account_info_head_firstName"></span>
                                <span th:text="${account.lastName}" class="account_info_head_lastName"></span>
                                <span>(</span><span th:text="${account.userName}" class="account_info_head_userName"></span><span>)</span>
                            </div>
                            
                            <div class="account_info_head_email" th:text="${account.email}"></div>
                        </div>
                        
                        <div class="account_info_body">
                            <div class="account_info_body_address" th:text="${account.address}"></div>
                            <div class="account_info_body_bio" th:text="${account.bio}"></div>
                        </div>
                    </div>
                </div> 
            </a>
        </div>
    </div>
</body>

</html>
