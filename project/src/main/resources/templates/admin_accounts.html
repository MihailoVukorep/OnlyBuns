<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">

<head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/x-icon" href="/img/favicon.png">
    <link rel="stylesheet" href="/css/main.css">

    <title>OnlyBuns - Admin - Accounts</title>
    <link rel="stylesheet" href="/css/admin_accounts.css">
    <link rel="stylesheet" href="/css/accounts.css">
    <link rel="stylesheet" href="/css/dataform-tiny.css">

    <link rel="stylesheet" href="/css/animations/rainbow_h1.css">
    <link rel="stylesheet" href="/css/animations/titleword.css">

    <script defer type="text/javascript" src="/js/main.js"></script>
</head>

<body>
    <div th:replace="~{fragments/navbar :: navbar}"></div>

    <div id="pagination-controls">
        <form action="/admin/accounts" method="get">
            <!-- Preserve current filters and sort options -->
            <input type="hidden" name="firstName" th:value="${firstName}">
            <input type="hidden" name="lastName" th:value="${lastName}">
            <input type="hidden" name="userName" th:value="${userName}">
            <input type="hidden" name="email" th:value="${email}">
            <input type="hidden" name="address" th:value="${address}">
            <input type="hidden" name="minPostCount" th:value="${minPostCount}">
            <input type="hidden" name="maxPostCount" th:value="${maxPostCount}">
            <input type="hidden" name="sort" th:value="${currentSort}">
    
            <button type="submit" name="page" th:value="${(currentPage ?: 0) - 1}" th:disabled="${(currentPage ?: 0) == 0}">â¬…ï¸ Previous</button>
            <span th:text="'Page ' + ((currentPage ?: 0) + 1) + ' of ' + (totalPages ?: 1)"></span>
            <button type="submit" name="page" th:value="${(currentPage ?: 0) + 1}" th:disabled="${(currentPage ?: 0) + 1 == (totalPages ?: 1)}">Next â¡ï¸</button>

        </form>
    </div>

    <h1>ğŸ‘¥ Accounts ğŸ‘¥</h1>

    <span id="search">
        <form class="dataform-tiny" action="/admin/accounts" method="get">
            <table>
                <tr>
                    <th><span class="title-word title-word-1">âœï¸ First Name:</span></th>
                    <td><input type="text" id="firstName" name="firstName" placeholder="Enter first name" th:value="${firstName}"></td>
                </tr>
                <tr>
                    <th><span class="title-word title-word-2">âœï¸ Last Name:</span></th>
                    <td><input type="text" id="lastName" name="lastName" placeholder="Enter last name" th:value="${lastName}"></td>
                </tr>
                <tr>
                    <th><span class="title-word title-word-3">ğŸ‘¤ Username:</span></th>
                    <td><input type="text" id="userName" name="userName" placeholder="Enter username" th:value="${userName}"></td>
                </tr>
                <tr>
                    <th><span class="title-word title-word-4">ğŸ“§ Email:</span></th>
                    <td><input type="email" id="email" name="email" placeholder="Enter email address" th:value="${email}"></td>
                </tr>
                <tr>
                    <th><span class="title-word title-word-5">ğŸ“ Address:</span></th>
                    <td><input type="text" id="address" name="address" placeholder="Enter address" th:value="${address}"></td>
                </tr>
                <tr>
                    <th><span class="title-word title-word-6">ğŸ”» Minimum Post Count:</span></th>
                    <td><input type="number" id="minPostCount" name="minPostCount" placeholder="0" min="0" th:value="${minPostCount}"></td>
                </tr>
                <tr>
                    <th><span class="title-word title-word-7">ğŸ”º Maximum Post Count:</span></th>
                    <td><input type="number" id="maxPostCount" name="maxPostCount" placeholder="1000" min="0" th:value="${maxPostCount}"></td>
                </tr>
            </table>

            <div class="dataform-tiny-buttons">
                <button type="submit">ğŸ” Search</button>
                <button type="reset">ğŸ”„ Reset Input</button>
                <a href="/admin/accounts">
                    <button type="button">âŒ Clear All</button>
                </a>
            </div>
        </form>
    
        <div id="sort_controls">
            <form action="/admin/accounts" method="GET" id="sortForm">
                <select id="sortOptions" name="sort" th:value="${currentSort}" onchange="this.form.submit()">
                    <option value="follow_count,asc" th:selected="${currentSort == 'follow_count,asc'}">Followers Ascending</option>
                    <option value="follow_count,desc" th:selected="${currentSort == 'follow_count,desc'}">Followers Descending</option>
                    <option value="email,asc" th:selected="${currentSort == 'email,asc'}">Email Ascending</option>
                    <option value="email,desc" th:selected="${currentSort == 'email,desc'}">Email Descending</option>
                </select>
            </form>
        </div>
    </span>
    

    <div th:replace="~{fragments/accounts :: accounts}"></div>
</body>

</html>
